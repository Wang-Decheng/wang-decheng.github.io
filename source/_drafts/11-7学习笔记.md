---
title:  '[学习笔记]2019.11'
author: 王德成
date: 2019-11-09 19:59:09
tags: 
- 学习笔记
categories: 
- OI
- 学习笔记 
---





## 写在前面

此博文为CSP前培训的学习总结，配合课件及笔记食用，外校同学可`CTRL+W`。

## 暴搜

- 搜索想搜索树，不要弄错回溯

- 用思维复杂度降低代码复杂度

## 贪心

有时候不会去想贪心，但是一定要大胆，一定要和暴力对拍。脑洞要开大，（贪心题能拉近与省选选手之间的距离）。

### 例题

#### 跳数组

思路：选能跳到的最远的

#### 均分纸牌

思路：如果`sum[i]!=aver*i`,那么一定要向旁边移动

#### 糖果问题

思路：让没有要求的人糖果最少，其他人“依次增加”

#### 铺设道路

思路1：扫最低的，左右填，$O(n^2)$,用线段树或单调栈优化，$O(nlogn)$,暴力过掉

思路2：从左到右扫一遍，如果`a[i]>a[i-1]`,`ans+=a[i]-a[i-1]`,$O(n)$。

#### 小总结

序列类贪心 可以考虑某个位置与左右其他位置的关系（正确做法并不容易想到）

#### 新版田忌赛马

思路：用田忌跑的最快的马与这匹马能跑过的最快的一匹马匹配。

#### 纪念品划分

思路：价值最大的如果能与价值最小的匹配，就匹配，否则自己一组。

#### 小总结

证明最优解可以用替换的方式

#### 国王游戏

思路：按每人左右手乘积排序

#### 火柴棍等式

思路：当两列火柴都按统一升降序排列时，答案最小，转化为逆序对

#### 小总结

用替换的方式，写数学表达式，求出答案最大/小时满足的条件

### 总结

贪心题很难想，但有一定的规律可循，有一定的技巧，~~有时候和DP长得很像~~，而且正确性在考场上不太容易证明

，需要和暴力对拍，~~大胆猜想，无需证明~~。

## 分治/二分



### 二分查找



### 二分答案



### 求逆序对



## 离散化

找到自己习惯的离散化方式

### Hash

* 模一个大质数

* 一般不用考虑Hash冲突（发生冲突的），如果要处理，可以使用链表或者后移。

### 按照其他方式离散

* 排序，用序号代替大小（仅需要大小关系而不需要具体数值）。

## 字符串相关

### 字典树

emm\~\~\~暂时留空，来日再补（~~因为map太好用了~~）

###  字符串Hash

## 数论

### 欧几里得算法（gcd）

```cpp
int gcd(int a, int b)
{
	if (!b) return a;
	return gcd(b, a % b);
}
```

### 扩展欧几里得算法（exgcd）

用于解决$ax+by=c$类的问题

```cpp
void ex_gcd(ll a,ll b,ll &x,ll &y)
{
	if(b==0)
	{
		x=1;
		y=0;
	}
	else
	{
		ex_gcd(b,a%b,y,x);
		y-=(a/b)*x;
	}
}
```

### 例题

#### 快乐传递

思路：写出两个人能相遇的条件，移项转化为同余方程，跑exgcd。

#### 小凯的疑惑

思路：打表暴力找规律（为什么要数学证明？[手动滑稽]）~~大胆猜想，无需证明~~

###  埃氏筛

复杂度$O(nlog(logn))$，能满足noip中的需求

```cpp
int m = sqrt(n)+1;
memset(vis, 0, sizeof(vis)); // vis[i]记录i是不是合数
for (int i = 2; i <= m; i++)
	if (!vis[i])
		for (int j = i * i; j <= n; j += i)
			vis[j] = true;
```

###  乘法逆元

$ax \equiv \ 1 mod \ b$  则称 𝑎,𝑥 互为对方在模 𝑏 意义下的乘法逆元  

#### 解法

##### exgcd

变形式子：

ax=1+by


ax-by=1

利用exgcd求解

##### 费马小定理

$a^{p-2}$为a在模p意义下的乘法逆元,用快速幂跑

#### 其他

##### 同余方程：

形如$a\equiv b \ mod \ c$的方程

##### 中国剩余定理

## DP

###  背包

####   01背包

####  完全背包

####  多重背包

#### 用二进制拆分优化多重背包

##### 例题

###### 金明的预算方案

思路：将主件和附件看做一个集合，对每个集合最多有五种选择，跑背包就完了

###### 搭建双塔

思路1：`f[k][i][j]`表示放置前`k`块水晶石，左塔高度为`i`,右塔高度为`j`可不可行，$O(n^2)$，TLE。（可用滚动数组优化掉第一维）

思路2：`f[i][j]`表示放置前`i`块，高塔为`j`时，较低的塔的高度最大值。

###### 小总结

用合适的状态去表述过程，并转移，不同的状态表示可能造成复杂度不同

###  序列类

####  最长不上升子序列

####  最长公共子序列

####  最大连续子序列和

#### 总结

序列DP的状态一般可由前面的状态转移而来，状态一般记录的是以某一位置做结尾的序列。

####  最长公共子序列

#### 最大连续子段和

### 区间

#### 例题

##### 石子合并

思路：`f[i][j]`表示i-j间合并石子的最小代价，转移方程`f[i][j]=min(f[i][j],f[i][k]+f[k+1][j])+sum[j]-sum[i-1]`

#####  能量项链

#### 总结

区间DP一般都用`f[i][j]`表示区间`[i,j]`的状态，并且可由更小的区间的状态转移过来。

###  树形DP

#### 例题

##### 没有上司的舞会

思路：用`f[t][1]`和`f[t][0]`分别表示放置该点和不放置该点的最大快乐值。

##### 小胖守皇宫

思路：用`f[t][0],f[t][1],f[t][2]`分别表示放置，放置但没被控制，没被控制三种状态

#### 总结

树形DP一般都需要记录以t为根节点的子树的状态，一般不依赖于父节点的状态而依赖子节点的状态。

####  状压DP

对于某些只需要记录true/false但是不太好表示整个的状态的时候，同时状态的位数比较少（比如只需要记录十几个元素的T/F），可以用一个01串表示状态

###  主动转移

在考虑某一状态可由什么状态转移而来的时候比较费劲时，可以考虑由该状态可以转移到什么状态。 



##  一些重要的技巧

- 先写暴力

- 手撸样例


>1.会几份
>
>2.写出几分
>
>3.写对积分